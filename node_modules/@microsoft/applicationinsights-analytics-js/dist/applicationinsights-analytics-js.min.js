/*!
 * Application Insights JavaScript SDK - Web Analytics, 2.8.4
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */
var e=this,t=function(g){"use strict";var k="function",f="object",W="undefined",r="prototype",C="hasOwnProperty",n=Object,S=n[r],e=n.assign,t=(n.create,n.defineProperty),N=S[C],I=null;function E(e){return void 0===e&&(e=!0),I&&e||(typeof globalThis!==W&&globalThis&&(I=globalThis),typeof self!==W&&self&&(I=self),typeof window!==W&&window&&(I=window),typeof global!==W&&global&&(I=global)),I}function se(e){throw new TypeError(e)}(E()||{}).Symbol,(E()||{}).Reflect;var ue=e||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])S[C].call(t,i)&&(e[i]=t[i]);return e},_=function(e,t){return(_=n.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t[C](n)&&(e[n]=t[n])})(e,t)},X="",D="isInitialized",M="teardown",L="core",V="update",A="disabled",U="_doTeardown",O="toISOString",R="endsWith",B="trim",e="toString",F="constructor",j=t,z=n.freeze,le=n.keys,i=String[r],K=i[B],q=i[R],J=Date[r][O],i=Array.isArray,G=S[e],H=N[e],$=H.call(n),fe=/-([a-z])/g,ge=/([^\w\d_$])/g,pe=/^(\d+[\w\d_$])/,de=Object.getPrototypeOf;function ve(e){if(e){if(de)return de(e);e=e.__proto__||e[r]||e[F];if(e)return e}return null}function Y(e){return e===undefined||typeof e===W}function Z(e){return null===e||Y(e)}function me(e){return!Z(e)}function he(e){return!(!e||typeof e!==f)}function Q(e){return!(!e||typeof e!==k)}function ye(e){var t=e;return e&&ne(e)?(t=(t=e.replace(fe,function(e,t){return t.toUpperCase()})).replace(ge,"_")).replace(pe,function(e,t){return"_"+t}):t}function ee(e,t){if(e)for(var n in e)N.call(e,n)&&t.call(e,n,e[n])}function p(e,t){return!(!e||!t||!~e.indexOf(t))}var te=i||function(e){return!(!e||"[object Array]"!==G.call(e))};function we(e){return e&&"[object Error]"===G.call(e)}function ne(e){return"string"==typeof e}function xe(e){return e&&"object"==typeof e&&(!(e=(de||ve)(e))||typeof(e=e[F]&&N.call(e,F)?e[F]:e)===k&&H.call(e)===$)}function re(e,t,n){var r=e.length;try{for(var i=0;i<r&&!(i in e&&-1===t.call(n||e,e[i],i,e));i++);}catch(o){}}function Te(e,t,n){if(e){if(e.map)return e.map(t,n);var r=e.length,i=n||e,o=Array(r);try{for(var a=0;a<r;a++)a in e&&(o[a]=t.call(i,e[a],e))}catch(c){}}return o}function d(e){return e&&(K&&e[B]?e[B]():e.replace?e.replace(/^\s+|\s+$/g,""):e)}var be=!{toString:null}.propertyIsEnumerable("toString"),Pe=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function ke(e,t,n,r){if(j)try{var i={enumerable:!0,configurable:!0};return n&&(i.get=n),r&&(i.set=r),j(e,t,i),!0}catch(o){}return!1}var Ce=z||function(e){return e};function Se(){var e=Date;return e.now?e.now():(new e).getTime()}function h(e){return we(e)?e.name:X}function v(e,t,n,r,i){var o=n;!e||(o=e[t])===n||i&&!i(o)||r&&!r(n)||(e[t]=o=n)}function Ne(e){return!!e}function Ie(e){throw Error(e)}function Ee(e){var n={};return ee(e,function(e,t){n[e]=t,n[t]=e}),e=n,z&&ee(e,function(e,t){(te(t)||he(t))&&z(t)}),Ce(e)}var _e="constructor",m="prototype",De="function",Me="_dynInstFuncs",Le="_isDynProxy",Ve="_dynClass",Ae="_dynInstChk",Ue=Ae,Oe="_dfOpts",Re="_unknown_",Be="__proto__",Fe="_dyn"+Be,je="_dynInstProto",ze="useBaseInst",Ke="setInstFuncs",qe=Object,Je=qe.getPrototypeOf,Ge=qe.getOwnPropertyNames,He=0;function y(e,t){return e&&qe[m].hasOwnProperty.call(e,t)}function $e(e){return e&&(e===qe[m]||e===Array[m])}function We(e){return $e(e)||e===Function[m]}function Xe(e){if(e){if(Je)return Je(e);var t=e[Be]||e[m]||(e[_e]?e[_e][m]:null),n=e[Fe]||t;y(e,Fe)||(delete e[je],n=e[Fe]=e[je]||e[Fe],e[je]=t)}return n}function Ye(e,t){var n=[];if(Ge)n=Ge(e);else for(var r in e)"string"==typeof r&&y(e,r)&&n.push(r);if(n&&0<n.length)for(var i=0;i<n.length;i++)t(n[i])}function Ze(e,t,n){return t!==_e&&typeof e[t]===De&&(n||y(e,t))}function Qe(e){throw new TypeError("DynamicProto: "+e)}function et(e,t){for(var n=e.length-1;0<=n;n--)if(e[n]===t)return 1}function tt(e,t){return y(e,m)?e.name||t||Re:((e||{})[_e]||{}).name||t||Re}function nt(e,r,t,n){y(e,m)||Qe("theClass is an invalid class definition.");var i,o,a,c,s,u,l=e[m],f=(function(e){if(!Je)return 1;for(var t=[],n=Xe(r);n&&!We(n)&&!et(t,n);){if(n===e)return 1;t.push(n),n=Xe(n)}}(l)||Qe("["+tt(e)+"] is not in class hierarchy of ["+tt(r)+"]"),null),e=(y(l,Ve)?f=l[Ve]:(f="_dynCls$"+tt(e,"_")+"$"+He,He++,l[Ve]=f),nt[Oe]),g=!!e[ze],p=(g&&n&&n[ze]!==undefined&&(g=!!n[ze]),o={},Ye(i=r,function(e){!o[e]&&Ze(i,e,!1)&&(o[e]=i[e])}),o),g=(t(r,function(e,t,n,o){function r(e,t,n){var r,i=t[n];return i[Le]&&o&&!1!==(r=e[Me]||{})[Ue]&&(i=(r[t[Ve]]||{})[n]||i),function(){return i.apply(e,arguments)}}for(var i={},a=(Ye(n,function(e){i[e]=r(t,n,e)}),Xe(e)),c=[];a&&!We(a)&&!et(c,a);)Ye(a,function(e){!i[e]&&Ze(a,e,!Je)&&(i[e]=r(t,a,e))}),c.push(a),a=Xe(a);return i}(l,r,p,g)),!!Je&&!!e[Ke]);a=l,t=f,c=r,s=p,e=!1!==(g=g&&n?!!n[Ke]:g),$e(a)||(l=c[Me]=c[Me]||{},u=l[t]=l[t]||{},!1!==l[Ue]&&(l[Ue]=!!e),Ye(c,function(e){var n,r,i;Ze(c,e,!1)&&c[e]!==s[e]&&(u[e]=c[e],delete c[e],y(a,e)&&(!a[e]||a[e][Le])||(a[e]=(n=a,r=e,(i=function(){var e,t;return(function(e,t,n,r){var i=null;if(e&&y(n,Ve)){var o=e[Me]||{};if((i=(o[n[Ve]]||{})[t])||Qe("Missing ["+t+"] "+De),!i[Ae]&&!1!==o[Ue]){for(var a=!y(e,t),c=Xe(e),s=[];a&&c&&!We(c)&&!et(s,c);){var u=c[t];if(u){a=u===r;break}s.push(c),c=Xe(c)}try{a&&(e[t]=i),i[Ae]=1}catch(l){o[Ue]=!1}}}return i}(this,r,n,i)||(typeof(t=(t=n[e=r])===i?Xe(n)[e]:t)!==De&&Qe("["+e+"] is not a "+De),t)).apply(this,arguments)})[Le]=1,i)))}))}var rt="window",it="document",ot="navigator",at="location",ct="console",st="JSON",ut="msie",lt="trident/",ft=null,gt=null,pt=!(nt[Oe]={setInstFuncs:!0,useBaseInst:!0});function ie(e){var t=E();return t&&t[e]?t[e]:e===rt&&dt()?window:null}function dt(){return typeof window===f&&window}function vt(){return dt()?window:ie(rt)}function w(){return typeof document===f&&document?document:ie(it)}function mt(){return typeof navigator===f&&navigator?navigator:ie(ot)}function ht(){return typeof history===f&&history}function yt(e){if(e&&pt){e=ie("__mockLocation");if(e)return e}return typeof location===f&&location?location:ie(at)}function wt(){return ie("performance")}function xt(){return typeof JSON===f&&JSON||null!==ie(st)}function Tt(){return xt()?JSON||ie(st):null}function bt(){var e=mt();return!e||e.userAgent===gt&&null!==ft||(e=((gt=e.userAgent)||X).toLowerCase(),ft=p(e,ut)||p(e,lt)),ft}function oe(e){var t=Object[r].toString.call(e),n=X;return"[object Error]"===t?n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":xt()&&(n=Tt().stringify(e)),t+n}var Pt=null;function kt(e){return e?'"'+e.replace(/\"/g,X)+'"':X}function Ct(e,t){var n,r=typeof console!==W?console:ie(ct);r&&(n="log",Q(r[n=r[e]?e:n])&&r[n](t))}Nt.dataType="MessageData";var St=Nt;function Nt(e,t,n,r){void 0===n&&(n=!1),this.messageId=e,this.message=(n?"AI: ":"AI (Internal): ")+e;n=X,xt()&&(n=Tt().stringify(r)),e=(t?" message:"+kt(t):X)+(r?" props:"+kt(n):X);this.message+=e}var It=function oi(i){this.identifier="DiagnosticLogger",this.queue=[];var c=0,s={};nt(oi,this,function(o){function e(e,t){e=i[e];return Z(e)?t:e}function a(e,t){var n,r=(n=(n=Pt)||!0===i.disableDbgExt?n:Pt||(r=ie("Microsoft"),Pt=r?r.ApplicationInsights:Pt))?n.ChromeDbgExt:null;r&&r.diagLog&&r.diagLog(e,t)}Z(i)&&(i={}),o.consoleLoggingLevel=function(){return e("loggingLevelConsole",0)},o.telemetryLoggingLevel=function(){return e("loggingLevelTelemetry",1)},o.maxInternalMessageLimit=function(){return e("maxMessageLimit",25)},o.enableDebugExceptions=function(){return e("enableDebugExceptions",!1)},o.throwInternal=function(e,t,n,r,i){t=new St(t,n,i=void 0!==i&&i,r);if(o.enableDebugExceptions())throw oe(t);n=1===e?"errorToConsole":"warnToConsole";Y(t.message)?a("throw"+(1===e?"Critical":"Warning"),t):(r=o.consoleLoggingLevel(),i?(i=+t.messageId,!s[i]&&e<=r&&(o[n](t.message),s[i]=!0)):e<=r&&o[n](t.message),o.logInternalMessage(e,t))},o.warnToConsole=function(e){Ct("warn",e),a("warning",e)},o.errorToConsole=function(e){Ct("error",e),a("error",e)},o.resetInternalMessageCount=function(){c=0,s={}},o.logInternalMessage=function(e,t){var n,r;c>=o.maxInternalMessageLimit()||(r=!0,n="AITR_"+t.messageId,s[n]?r=!1:s[n]=!0,r&&(e<=o.telemetryLoggingLevel()&&(o.queue.push(t),c++,a(1===e?"error":"warn",t)),c===o.maxInternalMessageLimit()&&(r=new St(23,n="Internal events throttle limit per PageView reached for this app.",!1),o.queue.push(r),1===e?o.errorToConsole(n):o.warnToConsole(n))))}})};function x(e,t,n,r,i,o){void 0===o&&(o=!1),(e||new It).throwInternal(t,n,r,i,o)}function Et(e,t){(e||new It).warnToConsole(t)}c.ParentContextKey="parent",c.ChildrenContextKey="childEvts";var _t=c;function c(e,i,t){var n,o=this,a=!1;o.start=Se(),o.name=e,o.isAsync=t,o.isChildEvt=function(){return!1},Q(i)&&(a=ke(o,"payload",function(){return!n&&Q(i)&&(n=i(),i=null),n})),o.getCtx=function(e){return e?(e===c.ParentContextKey||e===c.ChildrenContextKey?o:o.ctx||{})[e]:null},o.setCtx=function(e,t){e&&(e===c.ParentContextKey?(o[e]||(o.isChildEvt=function(){return!0}),o[e]=t):e===c.ChildrenContextKey?o[e]=t:(o.ctx=o.ctx||{})[e]=t)},o.complete=function(){var e=0,t=o.getCtx(c.ChildrenContextKey);if(te(t))for(var n=0;n<t.length;n++){var r=t[n];r&&(e+=r.time)}o.time=Se()-o.start,o.exTime=o.time-e,o.complete=function(){},!a&&Q(i)&&(o.payload=i())}}var Dt="CoreUtils.doPerf";function Mt(e,t,n,r,i){if(e)if(e=Q(e.getPerfMgr)?e.getPerfMgr():e){var o,a=void 0,c=e.getCtx(Dt);try{if(a=e.create(t(),r,i))return c&&a.setCtx&&(a.setCtx(_t.ParentContextKey,c),c.getCtx&&c.setCtx&&((o=c.getCtx(_t.ChildrenContextKey))||(o=[],c.setCtx(_t.ChildrenContextKey,o)),o.push(a))),e.setCtx(Dt,a),n(a)}catch(s){a&&a.setCtx&&a.setCtx("exception",s)}finally{a&&e.fire(a),e.setCtx(Dt,c)}}n()}var Lt=4294967296,Vt=4294967295,At=!1,Ut=123456789,Ot=987654321;function Rt(e){var t,n=0,r=ie("crypto")||ie("msCrypto");if(0===(n=r&&r.getRandomValues?r.getRandomValues(new Uint32Array(1))[0]&Vt:n)&&bt()){if(!At)try{var i=2147483647&Se();(t=(Math.random()*Lt^i)+i)<0&&(t>>>=0),Ut=123456789+t&Vt,Ot=987654321-t&Vt,At=!0}catch(o){}r=((Ot=36969*(65535&Ot)+(Ot>>16)&Vt)<<16)+(65535&(Ut=18e3*(65535&Ut)+(Ut>>16)&Vt))>>>0&Vt|0,n=(r>>>=0)&Vt}return 0===n&&(n=Math.floor(Lt*Math.random()|0)),e||(n>>>=0),n}var Bt=t,Ft="."+function(e){void 0===e&&(e=22);for(var t=Rt()>>>0,n=0,r=X;r.length<e;)r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[0|63&t]||"",t>>>=6,5==++n&&(t=(Rt()<<2&4294967295|3&t)>>>0,n=0);return r}(6),jt=0;function zt(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function Kt(e,t){return ye(e+jt+++((t=void 0!==t&&t)?".2.8.4":"")+Ft)}function qt(e){var o={id:Kt("_aiData-"+(e||"")+".2.8.4"),accept:zt,get:function(e,t,n,r){var i=e[o.id];return i?i[ye(t)]:(r&&((i=function(e,t){var n=t[e.id];if(!n){n={};try{zt(t)&&!function(e,t,n){if(Bt)try{return Bt(e,t,{value:n,enumerable:!1,configurable:!0}),1}catch(r){}}(t,e.id,n)&&(t[e.id]=n)}catch(r){}}return n}(o,e))[ye(t)]=n),n)},kill:function(e,t){if(e&&e[t])try{delete e[t]}catch(n){}}};return o}var Jt="toGMTString",Gt="toUTCString",Ht="cookie",$t="expires",Wt="enabled",Xt="isCookieUseDisabled",Yt="disableCookiesUsage",Zt="_ckMgr",Qt=null,en=null,tn=null,nn=w(),rn={},on={};function an(e){return!e||e.isEnabled()}function cn(e,i){v(n=(e=e||on).cookieCfg=e.cookieCfg||{},"domain",e.cookieDomain,me,Z),v(n,"path",e.cookiePath||"/",null,Z),Z(n[Wt])&&(t=void 0,Y(e[Xt])||(t=!e[Xt]),Y(e[Yt])||(t=!e[Yt]),n[Wt]=t);var t,n,u=n,l=u.path||"/",f=u.domain,r=!1!==u[Wt],g={isEnabled:function(){var e=r&&sn(i),t=on[Zt];return e&&t&&g!==t?an(t):e},setEnabled:function(e){r=!1!==e},set:function(e,t,n,r,i){var o,a,c,s=!1;return an(g)&&(o={},-1!=(c=(a=d(t||X)).indexOf(";"))&&(a=d(t.substring(0,c)),o=un(t.substring(1+c))),v(o,"domain",r||f,Ne,Y),Z(n)||(c=bt(),Y(o[$t])&&0<(t=Se()+1e3*n)&&((r=new Date).setTime(t),v(o,$t,ln(r,c?Jt:Gt)||ln(r,c?Jt:Gt)||X,Ne)),c||v(o,"max-age",X+n,null,Y)),(t=yt())&&"https:"===t.protocol&&(v(o,"secure",null,null,Y),(en=null===en?!(ne(r=(mt()||{}).userAgent)&&(p(r,"CPU iPhone OS 12")||p(r,"iPad; CPU OS 12")||p(r,"Macintosh; Intel Mac OS X 10_14")&&p(r,"Version/")&&p(r,"Safari")||p(r,"Macintosh; Intel Mac OS X 10_14")&&function(e,t){var n=!1;if(!e||(n=e===t))return n;if(q)return e[R](t);var r=e,i=t,n=!1,e=r?r.length:0;if(e&&40<=e&&!(n=r===i)){for(var o=e-1,a=39;0<=a;a--){if(r[o]!=i[a])return;o--}n=!0}return n}(r,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||p(r,"Chrome/5")||p(r,"Chrome/6")||p(r,"UnrealEngine")&&!p(r,"Chrome")||p(r,"UCBrowser/12")||p(r,"UCBrowser/11"))):en)&&v(o,"SameSite","None",null,Y)),v(o,"path",i||l,null,Y),(u.setCookie||gn)(e,fn(a,o)),s=!0),s},get:function(e){var t=X;return an(g)?(u.getCookie||function(e){var t,n=X;return nn&&(t=nn[Ht]||X,tn!==t&&(rn=un(t),tn=t),n=d(rn[e]||X)),n})(e):t},del:function(e,t){return!!an(g)&&g.purge(e,t)},purge:function(e,t){var n,r=!1;return sn(i)&&((n={}).path=t||"/",n[$t]="Thu, 01 Jan 1970 00:00:01 GMT",t=n,bt()||(t["max-age"]="0"),(u.delCookie||gn)(e,fn(X,t)),r=!0),r}};return g[Zt]=g}function sn(e){if(null===Qt){Qt=!1;try{Qt=(nn||{})[Ht]!==undefined}catch(t){x(e,2,68,"Cannot access document.cookie - "+h(t),{exception:oe(t)})}}return Qt}function un(e){var n={};return e&&e.length&&re(d(e).split(";"),function(e){var t;(e=d(e||X))&&(-1==(t=e.indexOf("="))?n[e]=null:n[d(e.substring(0,t))]=d(e.substring(1+t)))}),n}function ln(e,t){return Q(e[t])?e[t]():null}function fn(e,t){var n=e||X;return ee(t,function(e,t){n+="; "+e+(Z(t)?X:"="+t)}),n}function gn(e,t){nn&&(nn[Ht]=e+"="+t)}var pn="on",dn="attachEvent",vn="addEventListener",mn="detachEvent",hn="removeEventListener",yn="events",wn=(Kt("aiEvtPageHide"),Kt("aiEvtPageShow"),/\.[\.]+/g),xn=/[\.]+$/,Tn=1,bn=qt("events"),Pn=/^([^.]*)(?:\.(.+)|)/;function kn(e){return e&&e.replace?e.replace(/^\s*\.*|\.*\s*$/g,""):e}function Cn(e,t){t&&(n="",te(t)?(n="",re(t,function(e){(e=kn(e))&&("."!==e[0]&&(e="."+e),n+=e)})):n=kn(t),n&&(e=(e||"")+(n="."!==n[0]?"."+n:n)));var n,t=Pn.exec(e||"")||[];return{type:t[1],ns:(t[2]||"").replace(wn,".").replace(xn,"").split(".").sort().join(".")}}function Sn(e,t,n){e=bn.get(e,yn,{},n=void 0===n||n);return e[t]||(e[t]=[])}function Nn(e,t,n,r){e&&t&&t.type&&(e[hn]?e[hn](t.type,n,r):e[mn]&&e[mn](pn+t.type,n))}function In(e,t,n,r){for(var i=t.length;i--;){var o=t[i];!o||n.ns&&n.ns!==o.evtName.ns||r&&!r(o)||(Nn(e,o.evtName,o.handler,o.capture),t.splice(i,1))}}function En(e,t,n,r,i){var o;if(void 0===i&&(i=!1),e)try{var a,c=Cn(t,r),s=c,u=n,l=i,f=!1;(o=e)&&s&&s.type&&u&&(o[vn]?(o[vn](s.type,u,l),f=!0):o[dn]&&(o[dn](pn+s.type,u),f=!0)),f&&bn.accept(e)&&(a={guid:Tn++,evtName:c,handler:n,capture:i},Sn(e,c.type).push(a))}catch(g){}}function _n(e,t,n){return e&&e.length===t&&e!==n&&e.match(/^[\da-f]*$/)}var Dn=qt("plugin");function Mn(e){return Dn.get(e,"state",{},!0)}var Ln="TelemetryPluginChain",Vn="_hasRun",An="_getTelCtx",Un=0;function On(e,a,n,t){var r=null,i=[],o=(null!==t&&(r=t?function(e,t,n){for(;e;){if(e.getPlugin()===n)return e;e=e.getNext()}return Bn([n],t.config||{},t)}(e,n,t):e),{_next:function(){var e,t=r;return r=t?t.getNext():null,t||(e=i)&&0<e.length&&(re(e,function(e){try{e.func.call(e.self,e.args)}catch(t){x(n.logger,2,73,"Unexpected Exception during onComplete - "+oe(t))}}),i=[]),t},ctx:{core:function(){return n},diagLog:function(){return(n||{}).logger||new It(a)},getCfg:function(){return a},getExtCfg:c,getConfig:function(e,t,n){void 0===n&&(n=!1);var r,e=c(e,null);return e&&!Z(e[t])?r=e[t]:a&&!Z(a[t])&&(r=a[t]),Z(r)?n:r},hasNext:function(){return!!r},getNext:function(){return r},setNext:function(e){r=e},iterate:function(e){for(;t=o._next();){var t=t.getPlugin();t&&e(t)}},onComplete:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];e&&i.push({func:e,self:Y(t)?o.ctx:t,args:n})}}});function c(e,t,n){var r,i,o;return void 0===t&&(t={}),void 0===n&&(n=0),(r=a&&(i=a.extensionConfig)&&e?i[e]:r)?he(t)&&0!==n&&(o=function g(){var e=arguments,t=e[0]||{},n=e.length,r=!1,i=1;for(0<n&&"boolean"==typeof t&&(r=t,t=e[i]||{},i++),he(t)||(t={});i<n;i++){var o,a,c,s,u=e[i],l=te(u),f=he(u);for(o in u)(l&&o in u||f&&N.call(u,o))&&(a=u[o],c=void 0,r&&a&&((c=te(a))||xe(a))&&(s=t[o],c?te(s)||(s=[]):xe(s)||(s={}),a=g(r,s,a)),a!==undefined&&(t[o]=a))}return t}(!0,t,r),a&&2===n&&ee(t,function(e){var t;Z(o[e])&&!Z(t=a[e])&&(o[e]=t)}),r=o):r=t,r}return o}function Rn(e,n,r,t){var i=On(e,n,r,t),o=i.ctx;return o.processNext=function(e){var t=i._next();return t&&t.processTelemetry(e,o),!t},o.createNew=function(e,t){return Rn((e=te(e=void 0===e?null:e)?Bn(e,n,r,t):e)||o.getNext(),n,r,t)},o}function Bn(e,t,n,r){var i,o=null,a=!r;return te(e)&&0<e.length&&(i=null,re(e,function(e){(a=!a&&r===e||a)&&e&&Q(e.processTelemetry)&&(e=Fn(e,t,n),o=o||e,i&&i._setNext(e),i=e)})),r&&!o?Bn([r],t,n):o}function Fn(s,r,i){var u=null,o=Q(s.processTelemetry),a=Q(s.setNextPlugin),l=s?s.identifier+"-"+s.priority+"-"+Un++:"Unknown-0-"+Un++,c={getPlugin:function(){return s},getNext:function(){return u},processTelemetry:function(n,e){var t;f(e=e||(t=(t=s&&Q(s[An])?s[An]():t)||Rn(c,r,i)),function(e){if(!s||!o)return!1;var t=Mn(s);return!t.teardown&&!t[A]&&(a&&s.setNextPlugin(u),s.processTelemetry(n,e),!0)},"processTelemetry",function(){return{item:n}},!n.sync)||e.processNext(n)},unload:function(r,i){f(r,function(){var e,t,n=!1;return s&&(e=Mn(s),t=s[L]||e.core,!s||t&&t!==r[L]()||e[M]||(e[L]=null,e[M]=!0,e[D]=!1,s[M]&&!0===s[M](r,i)&&(n=!0))),n},"unload",function(){},i.isAsync)||r.processNext(i)},update:function(r,i){f(r,function(){var e,t,n=!1;return s&&(e=Mn(s),t=s[L]||e.core,!s||t&&t!==r[L]()||e[M]||s[V]&&!0===s[V](r,i)&&(n=!0)),n},"update",function(){},!1)||r.processNext(i)},_id:l,_setNext:function(e){u=e}};function f(n,r,i,e,t){var o=!1,a=s?s.identifier:Ln,c=(c=n[Vn])||(n[Vn]={});return n.setNext(u),s&&Mt(n[L](),function(){return a+":"+i},function(){c[l]=!0;try{var e=u?u._id:X;e&&(c[e]=!1),o=r(n)}catch(t){e=!u||c[u._id];e&&(o=!0),u&&e||x(n.diagLog(),1,73,"Plugin ["+a+"] failed during "+i+" - "+oe(t)+", run flags: "+oe(c))}},e,t),o}return Ce(c)}function jn(){var t=[];return{add:function(e){e&&t.push(e)},run:function(n,r){re(t,function(e){try{e(n,r)}catch(t){x(n.diagLog(),2,73,"Unexpected error calling unload handler - "+oe(t))}}),t=[]}}}var T="getPlugin",e=function ai(){var o,i,l,f,g,a=this;function t(e){var t,e=e=void 0===e?null:e;return e||(t=i||Rn(null,{},a.core),e=l&&l[T]?t.createNew(null,l[T]):t.createNew(null,l)),e}function s(e,t,n){e&&v(e,"extensionConfig",[],null,Z),!n&&t&&(n=t.getProcessTelContext().getNext());var r=l;l&&l[T]&&(r=l[T]()),a.core=t,i=Rn(n,e,t,r)}function p(){o=!1,a.core=null,l=i=null,g=[],f=jn()}p(),nt(ai,a,function(u){var e,t,n,r,i;u.initialize=function(e,t,n,r){s(e,t,r),o=!0},u.teardown=function(e,t){var n,r,i,o,a=u.core;if(a&&(!e||a===e.core()))return r=!1,i=e||function s(e,n,t){var r=n.config||{},i=On(e,r,n,t),o=i.ctx;return o.processNext=function(e){var t=i._next();return t&&t.unload(o,e),!t},o.createNew=function(e,t){return s((e=te(e=void 0===e?null:e)?Bn(e,r,n,t):e)||o.getNext(),n,t)},o}(null,a,l&&l[T]?l[T]():l),o=t||{reason:0,isAsync:!1},u[U]&&!0===u[U](i,o,c)?n=!0:c(),n;function c(){r||(r=!0,f.run(i,t),re(g,function(e){e.rm()}),g=[],!0===n&&i.processNext(o),p())}},u.update=function(e,t){var n,r,i,o=u.core;if(o&&(!e||o===e.core()))return r=!1,i=e||function c(e,n,t){var r=n.config||{},i=On(e,r,n,t).ctx;return i.processNext=function(t){return i.iterate(function(e){Q(e.update)&&e.update(i,t)})},i.createNew=function(e,t){return c((e=te(e=void 0===e?null:e)?Bn(e,r,n,t):e)||i.getNext(),n,t)},i}(null,o,l&&l[T]?l[T]():l),u._doUpdate&&!0===u._doUpdate(i,t||{reason:0},a)?n=!0:a(),n;function a(){r||(r=!0,s(i.getCfg(),i.core(),i.getNext()))}},u._addHook=function(e){e&&(te(e)?g=g.concat(e):g.push(e))},n="_addUnloadCb",t=function(){return f},(e=u)&&t&&(e[n]=(i=r=null,Q(n=t)?r=n:i=n,function(){var e=arguments;if(i=r?r():i)return i.add.apply(i,e)}))}),a.diagLog=function(e){return t(e).diagLog()},a[D]=function(){return o},a.setInitialized=function(e){o=e},a.setNextPlugin=function(e){l=e},a.processNext=function(e,t){t?t.processNext(e):l&&Q(l.processTelemetry)&&l.processTelemetry(e,null)},a._getTelCtx=t},zn="_aiHooks",Kn=["req","rsp","hkErr","fnErr"];function qn(e,t){if(e)for(var n=0;n<e.length&&!t(e[n],n);n++);}function Jn(e,a,c,s,u){0<=u&&u<=2&&qn(e,function(e,t){var e=e.cbks,n=e[Kn[u]];if(n){a.ctx=function(){return s[t]=s[t]||{}};try{n.apply(a.inst,c)}catch(i){n=a.err;try{var r=e.hkErr;r&&(a.err=i,r.apply(a.inst,c))}catch(o){}finally{a.err=n}}}})}function Gn(s){return function(){var n=arguments,e=s.h,r={name:s.n,inst:this,ctx:null,set:function(e,t){(n=o([],n))[e]=t,i=o([r],n)}},t=[],i=o([r],n);function o(t,e){return qn(e,function(e){t.push(e)}),t}r.evt=ie("event"),Jn(e,r,i,t,0);var a=s.f;if(a)try{r.rslt=a.apply(this,n)}catch(c){throw r.err=c,Jn(e,r,i,t,3),c}return Jn(e,r,i,t,1),r.rslt}}function Hn(e,t,n,r){if(e&&t&&n){r=function o(e,t,n){var r=null;return e&&(N.call(e,t)?r=e:n&&(r=o(ve(e),t,!1))),r}(e,t,r)||e;if(r)return t=(e=r)[r=t],n=n,(i=t&&t[zn])||((t=Gn(i={i:0,n:r,f:t,h:[]}))[zn]=i,e[r]=t),r={id:i.i,cbks:n,rm:function(){var n=this.id;qn(i.h,function(e,t){return e.id===n&&(i.h.splice(t,1),1)})}},i.i++,i.h.push(r),r}var i;return null}function $n(e,t,n){var r,i,o=t.length,a=(e=e,(t=t)&&150<(t=d(t.toString())).length&&(i=t.substring(0,150),x(e,2,57,"name is too long.  It has been truncated to 150 characters.",{name:t},!0)),i||t);if(a.length!==o){for(var c=0,s=a;n[s]!==undefined;)c++,s=a.substring(0,147)+(r=void 0,(r="00"+c).substr(r.length-3));a=s}return a}function ae(e,t,n){var r;return void 0===n&&(n=1024),t&&(n=n||1024,(t=d(t)).toString().length>n&&(r=t.toString().substring(0,n),x(e,2,61,"string value is too long. It has been truncated to "+n+" characters.",{value:t},!0))),r||t}function Wn(e,t){return Qn(e,t,2048,66)}function Xn(e,t){var n;return t&&32768<t.length&&(n=t.substring(0,32768),x(e,2,56,"message is too long, it has been truncated to 32768 characters.",{message:t},!0)),n||t}function Yn(r,e){var i;return e&&(i={},ee(e,function(e,t){if(he(t)&&xt())try{t=Tt().stringify(t)}catch(n){x(r,2,49,"custom property is not valid",{exception:n},!0)}t=ae(r,t,8192),e=$n(r,e,i),i[e]=t}),e=i),e}function Zn(n,e){var r;return e&&(r={},ee(e,function(e,t){e=$n(n,e,r),r[e]=t}),e=r),e}function Qn(e,t,n,r){var i;return t&&(t=d(t)).length>n&&(i=t.substring(0,n),x(e,2,r,"input is too long, it has been truncated to "+n+" characters.",{data:t},!0)),i||t}function er(e){var t,n=null;return Q(Event)?n=new Event(e):(t=w())&&t.createEvent&&(n=t.createEvent("Event")).initEvent(e,!0,!0),n}var tr="";function o(e,t){return void 0===t&&(t=!1),e===undefined||null===e?t:"true"==e.toString().toLowerCase()}function nr(e){var t=tr+Math.floor((e=Math.round(e=isNaN(e)||e<0?0:e))/1e3)%60,n=tr+Math.floor(e/6e4)%60,r=tr+Math.floor(e/36e5)%24,i=Math.floor(e/864e5),e=1===(e=tr+e%1e3).length?"00"+e:2===e.length?"0"+e:e,t=t.length<2?"0"+t:t,n=n.length<2?"0"+n:n,r=r.length<2?"0"+r:r;return(0<i?i+".":tr)+r+":"+n+":"+t+"."+e}var b="not_specified",rr="iKey",ir=Ee({LocalStorage:0,SessionStorage:1}),or=(Ee({AI:0,AI_AND_W3C:1,W3C:2}),undefined,undefined);function ar(e){try{if(Z(E()))return null;var t=(new Date).toString(),n=ie(e===ir.LocalStorage?"localStorage":"sessionStorage"),r=(n.setItem(t,t),n.getItem(t)!==t);if(n.removeItem(t),!r)return n}catch(i){}return null}function cr(){return sr()?ar(ir.SessionStorage):null}function sr(e){return or=e||or===undefined?!!ar(ir.SessionStorage):or}function ur(e,t){var n=cr();if(null!==n)try{return n.getItem(t)}catch(r){or=!1,x(e,2,2,"Browser failed read of session storage. "+h(r),{exception:oe(r)})}return null}function lr(e,t,n){var r=cr();if(null!==r)try{r.setItem(t,n)}catch(i){or=!1,x(e,2,4,"Browser failed write to session storage. "+h(i),{exception:oe(i)})}}function fr(e,t){var n=cr();if(null!==n)try{n.removeItem(t)}catch(r){or=!1,x(e,2,6,"Browser failed removal of session storage item. "+h(r),{exception:oe(r)})}}var gr=w()||{},pr=0,dr=[null,null,null,null,null];function P(e,t){return 0===e||0===t||Z(e)||Z(t)?null:t-e}mr.envelopeType="Microsoft.ApplicationInsights.{0}.Event",mr.dataType="EventData";var vr=mr;function mr(e,t,n,r){this.aiDataContract={ver:1,name:1,properties:0,measurements:0},this.ver=2,this.name=ae(e,t)||b,this.properties=Yn(e,n),this.measurements=Zn(e,r)}var hr="error",s="stack",yr="stackDetails",wr="errorSrc",xr="message",Tr="description";function br(e,t){var n=e;return n&&!ne(n)&&(JSON&&JSON.stringify?(n=JSON.stringify(e),!t||n&&"{}"!==n||(n=Q(e.toString)?e.toString():""+e)):n=e+" - (Missing JSON.stringify)"),n||""}function Pr(e,t){var n=e;return e&&((n=n&&!ne(n)&&(e[xr]||e[Tr])||n)&&!ne(n)&&(n=br(n,!0)),e.filename&&(n=n+" @"+(e.filename||"")+":"+(e.lineno||"?")+":"+(e.colno||"?"))),(t&&"String"!==t&&"Object"!==t&&"Error"!==t&&!~(n||"").indexOf(t)?t+": "+n:n)||""}function kr(e){return e&&e.src&&ne(e.src)&&e.obj&&te(e.obj)}function Cr(e){var e=e||"",t=(e=ne(e)?e:ne(e[s])?e[s]:""+e).split("\n");return{src:e,obj:t}}function Sr(e){var t,n=null;if(e)try{e[s]?n=Cr(e[s]):e[hr]&&e[hr][s]?n=Cr(e[hr][s]):e.exception&&e.exception[s]?n=Cr(e.exception[s]):kr(e)?n=e:kr(e[yr])?n=e[yr]:window&&window.opera&&e[xr]?n=function(e){for(var t=[],n=e.split("\n"),r=0;r<n.length;r++){var i=n[r];n[r+1]&&(i+="@"+n[r+1],r++),t.push(i)}return{src:e,obj:t}}(e.message):ne(e)?n=Cr(e):(t=e[xr]||e[Tr]||"",ne(e[wr])&&(t&&(t+="\n"),t+=" from "+e[wr]),t&&(n=Cr(t)))}catch(r){n=Cr(r)}return n||{src:"",obj:null}}function Nr(e){var t="";if(e&&!(t=e.typeName||e.name||""))try{var n=/function (.{1,200})\(/.exec(e.constructor.toString()),t=n&&1<n.length?n[1]:""}catch(r){}return t}function Ir(e){if(e)try{var t,n;if(!ne(e))return t=Nr(e),(n=br(e,!1))&&"{}"!==n||(e[hr]&&(t=Nr(e=e[hr])),n=br(e,!0)),n.indexOf(t)&&"String"!==t?t+":"+n:n}catch(r){}return""+(e||"")}a.CreateAutoException=function(e,t,n,r,i,o,a,c){var s=Nr(i||o||e);return{message:Pr(e,s),url:t,lineNumber:n,columnNumber:r,error:Ir(i||o||e),evt:Ir(o||e),typeName:s,stackDetails:Sr(a||i||o),errorSrc:c}},a.CreateFromInterface=function(t,e,n,r){var i=e.exceptions&&Te(e.exceptions,function(e){return Er.CreateFromInterface(t,e)});return new a(t,ue(ue({},e),{exceptions:i}),n,r)},a.prototype.toInterface=function(){var e=this,t=e.exceptions,n=e.properties,r=e.measurements,i=e.severityLevel,o=e.problemGroup,a=e.id,e=e.isManual;return{ver:"4.0",exceptions:t instanceof Array&&Te(t,function(e){return e.toInterface()})||undefined,severityLevel:i,properties:n,measurements:r,problemGroup:o,id:a,isManual:e}},a.CreateSimpleException=function(e,t,n,r,i,o){return{exceptions:[{hasFullStack:!0,message:e,stack:i,typeName:t}]}},a.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",a.dataType="ExceptionData",a.formatError=Ir;var ce=a;function a(e,t,n,r,i,o){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var a=this;a.ver=2,function(e){try{if(he(e))return"ver"in e&&"exceptions"in e&&"properties"in e}catch(t){}}(t)?(a.exceptions=t.exceptions||[],a.properties=t.properties,a.measurements=t.measurements,t.severityLevel&&(a.severityLevel=t.severityLevel),t.id&&(a.id=t.id),t.problemGroup&&(a.problemGroup=t.problemGroup),Z(t.isManual)||(a.isManual=t.isManual)):(a.exceptions=[new Er(e,t,n=n||{})],a.properties=Yn(e,n),a.measurements=Zn(e,r),i&&(a.severityLevel=i),o&&(a.id=o))}_r.prototype.toInterface=function(){var e=this,t=e.parsedStack instanceof Array&&Te(e.parsedStack,function(e){return e.toInterface()});return{id:e.id,outerId:e.outerId,typeName:e.typeName,message:e.message,hasFullStack:e.hasFullStack,stack:e[s],parsedStack:t||undefined}},_r.CreateFromInterface=function(e,t){var n=t.parsedStack instanceof Array&&Te(t.parsedStack,function(e){return Dr.CreateFromInterface(e)})||t.parsedStack;return new _r(e,ue(ue({},t),{parsedStack:n}))};var Er=_r;function _r(e,t,n){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var u,r,i,o,a,c=this;!function(e){try{if(he(e))return"hasFullStack"in e&&"typeName"in e}catch(t){}}(t)?(r=(o=t)&&o.evt,we(o)||(o=o[hr]||r||o),c.typeName=ae(e,Nr(o))||b,c.message=Xn(e,Pr(t||o,c.typeName))||b,u=t[yr]||Sr(t),c.parsedStack=function(){var e=u.obj;if(e&&0<e.length){var t=[],n=0,r=0;if(re(e,function(e){var e=e.toString();Dr.regex.test(e)&&(e=new Dr(e,n++),r+=e.sizeInBytes,t.push(e))}),32768<r)for(var i=0,o=t.length-1,a=0,c=i,s=o;i<o;){if(32768<(a+=t[i].sizeInBytes+t[o].sizeInBytes)){t.splice(c,s-c+1);break}c=i,s=o,i++,o--}}return t}(),c[s]=(r=e,a="",(o=u)&&(o.obj?re(o.obj,function(e){a+=e+"\n"}):a=o.src||""),(e=a)&&32768<(o=""+e).length&&(i=o.substring(0,32768),x(r,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:e},!0)),i||e),c.hasFullStack=te(c.parsedStack)&&0<c.parsedStack.length,n&&(n.typeName=n.typeName||c.typeName)):(c.typeName=t.typeName,c.message=t.message,c[s]=t[s],c.parsedStack=t.parsedStack||[],c.hasFullStack=t.hasFullStack)}u.CreateFromInterface=function(e){return new u(e,null)},u.prototype.toInterface=function(){var e=this;return{level:e.level,method:e.method,assembly:e.assembly,fileName:e.fileName,line:e.line}},u.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,u.baseSize=58;var Dr=u;function u(e,t){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var n,r=this;r.sizeInBytes=0,"string"==typeof e?(n=e,r.level=t,r.method="<no_method>",r.assembly=d(n),r.fileName="",r.line=0,(t=n.match(u.regex))&&5<=t.length&&(r.method=d(t[2])||r.method,r.fileName=d(t[4]),r.line=parseInt(t[5])||0)):(r.level=e.level,r.method=e.method,r.assembly=e.assembly,r.fileName=e.fileName,r.line=e.line,r.sizeInBytes=0),r.sizeInBytes+=r.method.length,r.sizeInBytes+=r.fileName.length,r.sizeInBytes+=r.assembly.length,r.sizeInBytes+=u.baseSize,r.sizeInBytes+=r.level.toString().length,r.sizeInBytes+=r.line.toString().length}var Mr=function(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0},Lr=(Vr.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",Vr.dataType="MetricData",Vr);function Vr(e,t,n,r,i,o,a,c,s){this.aiDataContract={ver:1,metrics:1,properties:0},this.ver=2;var u=new Mr;u.count=0<r?r:undefined,u.max=isNaN(o)||null===o?undefined:o,u.min=isNaN(i)||null===i?undefined:i,u.name=ae(e,t)||b,u.value=n,u.stdDev=isNaN(a)||null===a?undefined:a,this.metrics=[u],this.properties=Yn(e,c),this.measurements=Zn(e,s)}Ur.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",Ur.dataType="PageviewData";var Ar=Ur;function Ur(e,t,n,r,i,o,a){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var c=this;c.ver=2,c.id=a&&Qn(e,a,128,69).toString(),c.url=Wn(e,n),c.name=ae(e,t)||b,isNaN(r)||(c.duration=nr(r)),c.properties=Yn(e,i),c.measurements=Zn(e,o)}Rr.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",Rr.dataType="RemoteDependencyData";var Or=Rr;function Rr(e,t,n,r,i,o,a,c,s,u,l,f){void 0===s&&(s="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var g,p,d,v=this,n=(v.ver=2,v.id=t,v.duration=nr(i),v.success=o,v.resultCode=a+"",v.type=ae(e,s),t=e,i=c,s=a=o=r,a=(c=n)&&0<c.length?(g=c,d=(n=dr)[p=pr],gr.createElement?n[p]||(d=n[p]=gr.createElement("a")):d={host:function(){e=null,g&&null!=(n=g.match(/(\w*):\/\/(.[^/:]+)(\:[\d]+)?/i))&&2<n.length&&ne(n[2])&&0<n[2].length&&(e=n[2]||"",2<n.length&&(t=(n[1]||"").toLowerCase(),n=n[3]||"",e+=n="http"==t&&":80"===n||"https"==t&&":443"===n?"":n));var e,t=e||"";if(t){var n=t.match(/(www[0-9]?\.)?(.[^/:]+)(\:[\d]+)?/i);if(null!=n&&3<n.length&&ne(n[2])&&0<n[2].length)return n[2]+(n[3]||"")}return t}()},d.href=g,++p>=n.length&&(p=0),pr=p,p=(n=d).host,a||(null!=n.pathname?("/"!=((d=0===n.pathname.length?"/":n.pathname)[0]||"")&&(d="/"+d),s=n.pathname,ae(t,i?i+" "+d:d)):ae(t,c))):p=o,{target:p,name:a,data:s});v.data=Wn(e,r)||n.data,v.target=ae(e,n.target),u&&(v.target="".concat(v.target," | ").concat(u)),v.name=ae(e,n.name),v.properties=Yn(e,l),v.measurements=Zn(e,f)}Fr.envelopeType="Microsoft.ApplicationInsights.{0}.Message",Fr.dataType="MessageData";var Br=Fr;function Fr(e,t,n,r,i){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var o=this;o.ver=2,o.message=Xn(e,t=t||b),o.properties=Yn(e,r),o.measurements=Zn(e,i),n&&(o.severityLevel=n)}zr.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",zr.dataType="PageviewPerformanceData";var jr=zr;function zr(e,t,n,r,i,o,a){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var c=this;c.ver=2,c.url=Wn(e,n),c.name=ae(e,t)||b,c.properties=Yn(e,i),c.measurements=Zn(e,o),a&&(c.domProcessing=a.domProcessing,c.duration=a.duration,c.networkConnect=a.networkConnect,c.perfTotal=a.perfTotal,c.receivedResponse=a.receivedResponse,c.sentRequest=a.sentRequest)}function Kr(e,t,n,r,i,o){n=ae(r,n)||b,(Z(e)||Z(t)||Z(n))&&Ie("Input doesn't contain all required fields");var r="",a=(e[rr]&&(r=e[rr],delete e[rr]),{name:n,time:function(e){if(e){if(J)return e[O]();var t;return e&&e.getUTCFullYear?(t=function(e){e=""+e;return 1===e.length?"0"+e:e},e.getUTCFullYear()+"-"+t(1+e.getUTCMonth())+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"):void 0}}(new Date),iKey:r,ext:o||{},tags:[],data:{},baseType:t,baseData:e});return Z(i)||ee(i,function(e,t){a.data[e]=t}),a}var qr=function ci(d,v,t,m){nt(ci,this,function(e){var l,f=null,g=[],p=!1;function n(e){t&&t.flush(e)}t&&(l=t.logger),e.trackPageView=function(r,i){var e,o=r.name,a=(!Z(o)&&"string"==typeof o||(e=w(),o=r.name=e&&e.title||""),r.uri);if(!Z(a)&&"string"==typeof a||(e=yt(),a=r.uri=e&&e.href||""),!m.isPerformanceTimingSupported())return d.sendPageViewInternal(r,i),n(!0),void x(l,2,25,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");var c,t,s=!1,u=m.getPerformanceTiming().navigationStart;0<u&&(c=P(u,+new Date),m.shouldCollectDuration(c)||(c=undefined)),Z(i)||Z(i.duration)||(t=i.duration),!v&&isNaN(t)||(isNaN(t)&&((i=i||{}).duration=c),d.sendPageViewInternal(r,i),n(!0),s=!0),i=i||{},g.push(function(){var e,t=!1;try{m.isPerformanceTimingDataReady()?(t=!0,e={name:o,uri:a},m.populatePageViewPerformanceEvent(e),e.isValid||s?(s||(i.duration=e.durationMs,d.sendPageViewInternal(r,i)),p||(d.sendPageViewPerformanceInternal(e,i),p=!0)):(i.duration=c,d.sendPageViewInternal(r,i))):0<u&&6e4<P(u,+new Date)&&(t=!0,s||(i.duration=6e4,d.sendPageViewInternal(r,i)))}catch(n){x(l,1,38,"trackPageView failed on page load calculation: "+h(n),{exception:oe(n)})}return t}),f=f||setInterval(function(){var e=g.slice(0),t=!1;g=[],re(e,function(e){e()?t=!0:g.push(e)}),0===g.length&&(clearInterval(f),f=null),t&&n(!0)},100)},e.teardown=function(e,t){var n;f&&(clearInterval(f),f=null,n=g.slice(0),g=[],re(n,function(e){e()}))}})},Jr=(Gr.prototype.trackPreviousPageVisit=function(e,t){try{var n=this.restartPageVisitTimer(e,t);n&&this.pageVisitTimeTrackingHandler(n.pageName,n.pageUrl,n.pageVisitTime)}catch(r){Et(this._logger,"Auto track page visit time failed, metric will not be collected: "+oe(r))}},Gr.prototype.restartPageVisitTimer=function(e,t){try{var n=this.stopPageVisitTimer();return this.startPageVisitTimer(e,t),n}catch(r){return Et(this._logger,"Call to restart failed: "+oe(r)),null}},Gr.prototype.startPageVisitTimer=function(e,t){try{var n,r;sr()&&(null!=ur(this._logger,this.prevPageVisitDataKeyName)&&Ie("Cannot call startPageVisit consecutively without first calling stopPageVisit"),n=new Hr(e,t),r=Tt().stringify(n),lr(this._logger,this.prevPageVisitDataKeyName,r))}catch(i){Et(this._logger,"Call to start failed: "+oe(i))}},Gr.prototype.stopPageVisitTimer=function(){try{var e,t,n;return sr()?(e=Se(),(t=ur(this._logger,this.prevPageVisitDataKeyName))&&xt()?((n=Tt().parse(t)).pageVisitTime=e-n.pageVisitStartTime,fr(this._logger,this.prevPageVisitDataKeyName),n):null):null}catch(r){return Et(this._logger,"Stop page visit timer failed: "+oe(r)),null}},Gr);function Gr(e,t){this.prevPageVisitDataKeyName="prevPageVisitData",this.pageVisitTimeTrackingHandler=t,this._logger=e}var Hr=function(e,t){this.pageVisitStartTime=Se(),this.pageName=e,this.pageUrl=t},$r=(l.prototype.populatePageViewPerformanceEvent=function(e){e.isValid=!1;var t=this.getPerformanceNavigationTiming(),n=this.getPerformanceTiming(),r=0,i=0,o=0,a=0;(t||n)&&(t=t?(r=t.duration,i=0===t.startTime?t.connectEnd:P(t.startTime,t.connectEnd),o=P(t.requestStart,t.responseStart),a=P(t.responseStart,t.responseEnd),P(t.responseEnd,t.loadEventEnd)):(r=P(n.navigationStart,n.loadEventEnd),i=P(n.navigationStart,n.connectEnd),o=P(n.requestStart,n.responseStart),a=P(n.responseStart,n.responseEnd),P(n.responseEnd,n.loadEventEnd)),n=this._logger,0===r?x(n,2,10,"error calculating page view performance.",{total:r,network:i,request:o,response:a,dom:t}):this.shouldCollectDuration(r,i,o,a,t)?r<Math.floor(i)+Math.floor(o)+Math.floor(a)+Math.floor(t)?x(n,2,8,"client performance math error.",{total:r,network:i,request:o,response:a,dom:t}):(e.durationMs=r,e.perfTotal=e.duration=nr(r),e.networkConnect=nr(i),e.sentRequest=nr(o),e.receivedResponse=nr(a),e.domProcessing=nr(t),e.isValid=!0):x(n,2,45,"Invalid page load duration value. Browser perf data won't be sent.",{total:r,network:i,request:o,response:a,dom:t}))},l.prototype.getPerformanceTiming=function(){return this.isPerformanceTimingSupported()?wt().timing:null},l.prototype.getPerformanceNavigationTiming=function(){return this.isPerformanceNavigationTimingSupported()?wt().getEntriesByType("navigation")[0]:null},l.prototype.isPerformanceNavigationTimingSupported=function(){var e=wt();return e&&e.getEntriesByType&&0<e.getEntriesByType("navigation").length},l.prototype.isPerformanceTimingSupported=function(){var e=wt();return e&&e.timing},l.prototype.isPerformanceTimingDataReady=function(){var e=wt(),e=e?e.timing:0;return e&&0<e.domainLookupStart&&0<e.navigationStart&&0<e.responseStart&&0<e.requestStart&&0<e.loadEventEnd&&0<e.responseEnd&&0<e.connectEnd&&0<e.domLoading},l.prototype.shouldCollectDuration=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=["googlebot","adsbot-google","apis-google","mediapartners-google"],r=(mt()||{}).userAgent,i=!1;if(r)for(var o=0;o<n.length;o++)i=i||!!~r.toLowerCase().indexOf(n[o]);if(i)return!1;for(o=0;o<e.length;o++)if(e[o]<0||e[o]>=this.MAX_DURATION_ALLOWED)return!1;return!0},l);function l(e){this.MAX_DURATION_ALLOWED=36e5,e&&(this._logger=e.logger)}var Wr=function(o,e){var a=this,c={};a.start=function(e){"undefined"!=typeof c[e]&&x(o,2,62,"start was called more than once for this event without calling stop.",{name:e,key:e},!0),c[e]=+new Date},a.stop=function(e,t,n,r){var i=c[e];isNaN(i)?x(o,2,63,"stop was called without a corresponding start.",{name:e,key:e},!0):(i=P(i,+new Date),a.action(e,t,i,n,r)),delete c[e],c[e]=undefined}},Xr="duration";function Yr(e,t){e&&e.dispatchEvent&&t&&e.dispatchEvent(t)}var Zr,Qr=6e4;function ei(e,t){return(e=e||t)<Qr?Qr:e}function ti(e){return(e=e||{}).sessionRenewalMs=ei(e.sessionRenewalMs,18e5),e.sessionExpirationMs=ei(e.sessionExpirationMs,864e5),e.disableExceptionTracking=o(e.disableExceptionTracking),e.autoTrackPageVisitTime=o(e.autoTrackPageVisitTime),e.overridePageViewDuration=o(e.overridePageViewDuration),e.enableUnhandledPromiseRejectionTracking=o(e.enableUnhandledPromiseRejectionTracking),(isNaN(e.samplingPercentage)||e.samplingPercentage<=0||100<=e.samplingPercentage)&&(e.samplingPercentage=100),e.isStorageUseDisabled=o(e.isStorageUseDisabled),e.isBrowserLinkTrackingEnabled=o(e.isBrowserLinkTrackingEnabled),e.enableAutoRouteTracking=o(e.enableAutoRouteTracking),e.namePrefix=e.namePrefix||"",e.enableDebug=o(e.enableDebug),e.disableFlushOnBeforeUnload=o(e.disableFlushOnBeforeUnload),e.disableFlushOnUnload=o(e.disableFlushOnUnload,e.disableFlushOnBeforeUnload),e}function ni(){this.constructor=Zr}Zr=ii,typeof(i=ri=e)!==k&&null!==i&&se("Class extends value "+i+" is not a constructor or null"),_(Zr,i),Zr[r]=(ni[r]=i[r],new ni),ii.Version="2.8.4",ii.getDefaultConfig=ti;var ri,t=ii;function ii(){var D,M,L,V,A,U,O,R,B,F,j,z,K,q,J,G,H,$=ri.call(this)||this;return $.identifier="ApplicationInsightsAnalytics",$.priority=180,$.autoRoutePVDelay=500,nt(ii,$,function(I,E){var _=E._addHook;function g(e,t,n,r,i){I.diagLog().throwInternal(e,t,n,r,i)}function l(){U=A=V=L=M=D=null;var e=yt(!(q=K=z=j=F=B=R=O=!1));J=e&&e.href||"",H=G=null}l(),I.getCookieMgr=function(){return(t=(n=I.core)?n.getCookieMgr():t)||(n=(n||{}).logger,(r=cn[Zt]||on[Zt])||(r=cn[Zt]=cn(e,n),on[Zt]=r),t=r),t;var e,t,n,r},I.processTelemetry=function(e,t){I.processNext(e,t)},I.trackEvent=function(e,t){try{var n=Kr(e,vr.dataType,vr.envelopeType,I.diagLog(),t);I.core.track(n)}catch(r){g(2,39,"trackTrace failed, trace will not be collected: "+h(r),{exception:oe(r)})}},I.startTrackEvent=function(e){try{D.start(e)}catch(t){g(1,29,"startTrackEvent failed, event will not be collected: "+h(t),{exception:oe(t)})}},I.stopTrackEvent=function(e,t,n){try{D.stop(e,undefined,t)}catch(r){g(1,30,"stopTrackEvent failed, event will not be collected: "+h(r),{exception:oe(r)})}},I.trackTrace=function(e,t){try{var n=Kr(e,Br.dataType,Br.envelopeType,I.diagLog(),t);I.core.track(n)}catch(r){g(2,39,"trackTrace failed, trace will not be collected: "+h(r),{exception:oe(r)})}},I.trackMetric=function(e,t){try{var n=Kr(e,Lr.dataType,Lr.envelopeType,I.diagLog(),t);I.core.track(n)}catch(r){g(1,36,"trackMetric failed, metric will not be collected: "+h(r),{exception:oe(r)})}},I.trackPageView=function(e,t){try{var n=e||{};L.trackPageView(n,ue(ue(ue({},n.properties),n.measurements),t)),I.config.autoTrackPageVisitTime&&A.trackPreviousPageVisit(n.name,n.uri)}catch(r){g(1,37,"trackPageView failed, page view will not be collected: "+h(r),{exception:oe(r)})}},I.sendPageViewInternal=function(e,t,n){var r=w(),r=(r&&(e.refUri=e.refUri===undefined?r.referrer:e.refUri),Kr(e,Ar.dataType,Ar.envelopeType,I.diagLog(),t,n));I.core.track(r)},I.sendPageViewPerformanceInternal=function(e,t,n){e=Kr(e,jr.dataType,jr.envelopeType,I.diagLog(),t,n);I.core.track(e)},I.trackPageViewPerformance=function(e,t){e=e||{};try{V.populatePageViewPerformanceEvent(e),I.sendPageViewPerformanceInternal(e,t)}catch(n){g(1,37,"trackPageViewPerformance failed, page view will not be collected: "+h(n),{exception:oe(n)})}},I.startTrackPage=function(e){try{var t;"string"!=typeof e&&(e=(t=w())&&t.title||""),M.start(e)}catch(n){g(1,31,"startTrackPage failed, page view may not be collected: "+h(n),{exception:oe(n)})}},I.stopTrackPage=function(e,t,n,r){try{var i,o;"string"!=typeof e&&(e=(i=w())&&i.title||""),"string"!=typeof t&&(t=(o=yt())&&o.href||""),M.stop(e,t,n,r),I.config.autoTrackPageVisitTime&&A.trackPreviousPageVisit(e,t)}catch(a){g(1,32,"stopTrackPage failed, page view will not be collected: "+h(a),{exception:oe(a)})}},I.sendExceptionInternal=function(e,t,n){var r=e.exception||e.error||Error(b),r=Kr(new ce(I.diagLog(),r,e.properties||t,e.measurements,e.severityLevel,e.id).toInterface(),ce.dataType,ce.envelopeType,I.diagLog(),t,n);I.core.track(r)},I.trackException=function(e,t){e&&!e.exception&&e.error&&(e.exception=e.error);try{I.sendExceptionInternal(e,t)}catch(n){g(1,35,"trackException failed, exception will not be collected: "+h(n),{exception:oe(n)})}},I._onerror=function(e){var t,n,r,i=e&&e.error,o=e&&e.evt;try{o||(l=vt())&&(o=l.event);var a=e&&e.url||(w()||{}).URL,c=e.errorSrc||"window.onerror@"+a+":"+(e.lineNumber||0)+":"+(e.columnNumber||0),s={errorSrc:c,url:a,lineNumber:e.lineNumber||0,columnNumber:e.columnNumber||0,message:e.message},u=e.message;e.url,e.lineNumber,e.columnNumber,e.error||!ne(u)||"Script error."!==u&&"Script error"!==u?(e.errorSrc||(e.errorSrc=c),I.trackException({exception:e,severityLevel:3},s)):(t=ce.CreateAutoException("Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",a,e.lineNumber||0,e.columnNumber||0,i,o,null,c),n=s,r=Kr(t,ce.dataType,ce.envelopeType,I.diagLog(),n),I.core.track(r))}catch(f){var l=i?i.name+", "+i.message:"null";g(1,11,"_onError threw exception while logging error, error will not be collected: "+h(f),{exception:oe(f),errorString:l})}},I.addTelemetryInitializer=function(e){if(I.core)return I.core.addTelemetryInitializer(e);(U=U||[]).push(e)},I.initialize=function(e,t,n,r){if(!I.isInitialized()){Z(t)&&Ie("Error initializing"),E.initialize(e,t,n,r);try{y=Kt(I.identifier),x=(w=t.evtNamespace&&t.evtNamespace())?Cn("xx",x=te(w)?[y].concat(w):[y,w]).ns.split("."):y,H=x,U&&(re(U,function(e){t.addTelemetryInitializer(e)}),U=null),P=Rn(null,b=e,I.core),k=I.identifier,C=ti(b),S=I.config=P.getExtCfg(k),C!==undefined&&ee(C,function(e,t){S[e]=P.getConfig(k,e,t),S[e]===undefined&&(S=t)});var i,o,a,c,s,u,l,f,g,p,d,v,m,h=S;Y((T=h).isStorageUseDisabled)||(or=!T.isStorageUseDisabled&&(ar(ir.LocalStorage),sr(!0))),V=new $r(I.core),L=new qr($,h.overridePageViewDuration,I.core,V),A=new Jr(I.diagLog(),function(e,t,n){I.trackMetric({name:"PageVisitTime",average:n,max:n,min:n,sampleCount:1},{PageName:e,PageUrl:t})}),O=h.isBrowserLinkTrackingEnabled||e.isBrowserLinkTrackingEnabled,!R&&O&&(i=["/browserLinkSignalR/","/__browserLink/"],I.addTelemetryInitializer(function(e){if(O&&e.baseType===Or.dataType){var t=e.baseData;if(t)for(var n=0;n<i.length;n++)if(t.target&&~t.target.indexOf(i[n]))return!1}return!0}),R=!0),(D=new Wr(I.diagLog())).action=function(e,t,n,r){(r=r||{})[Xr]=n.toString(),I.trackEvent({name:e,properties:r})},(M=new Wr(I.diagLog())).action=function(e,t,n,r,i){(r=Z(r)?{}:r)[Xr]=n.toString(),I.sendPageViewInternal({name:e,uri:t,properties:r,measurements:i},r)},dt()&&(a=h,c=vt(),s=yt(!0),(j=a.disableExceptionTracking)||z||a.autoExceptionInstrumented||(_(Hn(c,"onerror",{ns:H,rsp:function(e,t,n,r,i,o){j||!0===e.rslt||I._onerror(ce.CreateAutoException(t,n,r,i,o,e.evt))}},!1)),z=!0),l=s,(K=!0===(u=a).enableUnhandledPromiseRejectionTracking)&&!q&&(_(Hn(c,"onunhandledrejection",{ns:H,rsp:function(e,t){var n,r;K&&!0!==e.rslt&&I._onerror(ce.CreateAutoException((n=t)&&n.reason?!ne(r=n.reason)&&Q(r.toString)?r.toString():oe(r):n||"",l?l.href:"",0,0,t,e.evt))}},!1)),q=!0,u.autoUnhandledPromiseInstrumented=q),f=vt(),g=yt(!0),B=!0===h.enableAutoRouteTracking,f&&B&&ht()&&Q((o=ht()?history:ie("history")).pushState)&&Q(o.replaceState)&&typeof Event!==W&&(p=h,d=f,v=o,m=g,F||(_(Hn(v,"pushState",{ns:H,rsp:function(){B&&(Yr(d,er(p.namePrefix+"pushState")),Yr(d,er(p.namePrefix+"locationchange")))}},!0)),_(Hn(v,"replaceState",{ns:H,rsp:function(){B&&(Yr(d,er(p.namePrefix+"replaceState")),Yr(d,er(p.namePrefix+"locationchange")))}},!0)),En(d,p.namePrefix+"popstate",function(){B&&Yr(d,er(p.namePrefix+"locationchange"))},H),En(d,p.namePrefix+"locationchange",function(){var e,t,n;G&&(J=G),G=m&&m.href||"",B&&(n=null,(n=I.core&&I.core.getTraceCtx?I.core.getTraceCtx(!1):n)||(e=I.core.getPlugin("AppInsightsPropertiesPlugin"))&&(e=e.plugin.context)&&(e=e.telemetryTrace,t=e||{},n={getName:function(){return t.name},setName:function(e){t.name=e},getTraceId:function(){return t.traceID},setTraceId:function(e){_n(e,32,"00000000000000000000000000000000")&&(t.traceID=e)},getSpanId:function(){return t.parentID},setSpanId:function(e){_n(e,16,"0000000000000000")&&(t.parentID=e)},getTraceFlags:function(){return t.traceFlags},setTraceFlags:function(e){t.traceFlags=e}}),(e=n)&&(e.setTraceId(function(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n=X,r=0;r<4;r++)n+=t[15&(e=Rt())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var i=t[8+(3&Rt())|0];return n.substr(0,8)+n.substr(9,4)+"4"+n.substr(13,3)+i+n.substr(16,3)+n.substr(19,12)}()),n="_unknown_",m&&m.pathname&&(n=m.pathname+(m.hash||"")),e.setName(ae(I.diagLog(),n))),setTimeout((function(e){I.trackPageView({refUri:e,properties:{duration:0}})}).bind(this,J),I.autoRoutePVDelay))},H),F=!0)))}catch(N){throw I.setInitialized(!1),N}var y,w,x}var T,b,P,k,C,S},I._doTeardown=function(e,t){L&&L.teardown(e,t);var n,r,e=window,t=H,i=void 0;if(void 0===i&&(i=!1),e)try{var o=Cn(null,t),a=!1,c=e,s=function(e){return!(!o.ns&&null!==e.handler)&&(a=!0)};(n=o).type?In(c,Sn(c,n.type),n,s):(ee(r=bn.get(c,yn,{}),function(e,t){In(c,t,n,s)}),0===function(e){var t=typeof e;if(t===k||t===f&&null!==e||se("objKeys called on non-object"),!be&&le)return le(e);var n,r=[];for(n in e)e&&N.call(e,n)&&r.push(n);if(be)for(var i=Pe.length,o=0;o<i;o++)e&&N.call(e,Pe[o])&&r.push(Pe[o]);return r}(r).length&&bn.kill(c,yn)),a||Nn(e,o,null,i)}catch(u){}l()},ke(I,"_pageViewManager",function(){return L}),ke(I,"_pageViewPerformanceManager",function(){return V}),ke(I,"_pageVisitTimeManager",function(){return A}),ke(I,"_evtNamespace",function(){return"."+H})}),$}g.AnalyticsPlugin=t,g.ApplicationInsights=t;e=g,i="__esModule",t={value:!0},g=Object.defineProperty;if(g)try{return void g(e,i,t)}catch(si){}typeof t.value!==undefined&&(e[i]=t.value)};"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{}));
//# sourceMappingURL=applicationinsights-analytics-js.min.js.map
